<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holograma AR</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        
        #info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
            max-width: 300px;
        }
        
        #controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            z-index: 1000;
        }
        
        button {
            background: #00ffff;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            color: #000;
        }
        
        button:hover {
            background: #00dddd;
        }
        
        .holo-effect {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="info">
        <h3>üéØ Holograma AR</h3>
        <p>Apunta tu c√°mara a una superficie plana</p>
        <p id="status">Inicializando...</p>
    </div>
    
    <div id="controls">
        <button onclick="changeColor()">Cambiar Color</button>
        <button onclick="toggleAnimation()">Play/Pause</button>
    </div>

    <a-scene
        embedded
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; precision: medium;">
        
        <a-marker type="pattern" preset="hiro">
            <!-- Holograma principal -->
            <a-entity id="hologram">
                <!-- Cristal central -->
                <a-octahedron 
                    id="crystal"
                    position="0 0.5 0" 
                    radius="0.3" 
                    color="#00ffff"
                    material="opacity: 0.7; transparent: true; metalness: 0.8; roughness: 0.2"
                    animation="property: rotation; to: 0 360 0; loop: true; dur: 4000; easing: linear"
                    class="holo-effect">
                </a-octahedron>
                
                <!-- Anillos orbitales -->
                <a-torus
                    position="0 0.5 0"
                    radius="0.5"
                    radius-tubular="0.02"
                    color="#ff00ff"
                    material="opacity: 0.6; transparent: true"
                    rotation="90 0 0"
                    animation="property: rotation; to: 90 360 0; loop: true; dur: 3000; easing: linear">
                </a-torus>
                
                <a-torus
                    position="0 0.5 0"
                    radius="0.6"
                    radius-tubular="0.015"
                    color="#00ff00"
                    material="opacity: 0.5; transparent: true"
                    rotation="0 45 0"
                    animation="property: rotation; to: 0 405 0; loop: true; dur: 5000; easing: linear">
                </a-torus>
                
                <!-- Part√≠culas flotantes -->
                <a-sphere position="0.3 0.8 0" radius="0.05" color="#ffff00" material="opacity: 0.8; transparent: true"
                    animation="property: position; to: 0.3 0.2 0; dir: alternate; loop: true; dur: 2000; easing: easeInOutSine">
                </a-sphere>
                <a-sphere position="-0.3 0.3 0" radius="0.05" color="#ff00ff" material="opacity: 0.8; transparent: true"
                    animation="property: position; to: -0.3 0.9 0; dir: alternate; loop: true; dur: 2500; easing: easeInOutSine">
                </a-sphere>
                <a-sphere position="0 0.2 0.3" radius="0.05" color="#00ffff" material="opacity: 0.8; transparent: true"
                    animation="property: position; to: 0 0.8 0.3; dir: alternate; loop: true; dur: 1800; easing: easeInOutSine">
                </a-sphere>
                
                <!-- Base hologr√°fica -->
                <a-cylinder
                    position="0 0 0"
                    radius="0.7"
                    height="0.05"
                    color="#00ffff"
                    material="opacity: 0.3; transparent: true"
                    animation="property: material.opacity; to: 0.6; dir: alternate; loop: true; dur: 1000">
                </a-cylinder>
                
                <!-- Texto flotante -->
                <a-text
                    value="HOLOGRAMA"
                    position="0 1.2 0"
                    align="center"
                    color="#00ffff"
                    width="2"
                    animation="property: position; to: 0 1.3 0; dir: alternate; loop: true; dur: 2000; easing: easeInOutSine">
                </a-text>
            </a-entity>
        </a-marker>

        <a-entity camera></a-entity>
    </a-scene>

    <script>
        let animationPaused = false;
        const colors = ['#00ffff', '#ff00ff', '#00ff00', '#ffff00', '#ff0000', '#0000ff'];
        let colorIndex = 0;

        // Actualizar estado
        setTimeout(() => {
            document.getElementById('status').textContent = 'üì± Escanea el marcador Hiro';
        }, 2000);

        // Cambiar color del holograma
        function changeColor() {
            colorIndex = (colorIndex + 1) % colors.length;
            const crystal = document.getElementById('crystal');
            if (crystal) {
                crystal.setAttribute('color', colors[colorIndex]);
            }
        }

        // Pausar/reanudar animaci√≥n
        function toggleAnimation() {
            const hologram = document.getElementById('hologram');
            if (!hologram) return;
            
            const elements = hologram.querySelectorAll('[animation]');
            elements.forEach(el => {
                if (animationPaused) {
                    el.setAttribute('animation', 'enabled', true);
                } else {
                    el.setAttribute('animation', 'enabled', false);
                }
            });
            animationPaused = !animationPaused;
        }

        // Detectar cuando se encuentra el marcador
        const marker = document.querySelector('a-marker');
        marker.addEventListener('markerFound', () => {
            document.getElementById('status').textContent = '‚úÖ ¬°Marcador detectado!';
        });
        
        marker.addEventListener('markerLost', () => {
            document.getElementById('status').textContent = 'üîç Buscando marcador...';
        });
    </script>
</body>
</html>
